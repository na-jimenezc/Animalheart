<app-header-vet [veterinario]="veterinario"></app-header-vet>

<div class="container my-4">
  <h1 class="mb-3"><i class="bi bi-heart-pulse me-2"></i>Listado de Pacientes</h1>

  <div class="table-responsive" *ngIf="mascotas.length > 0; else cargando">
    <table class="table table-striped align-middle">
      <thead>
        <tr>
          <th>Foto</th>
          <th>Nombre</th>
          <th>Raza</th>
          <th>Edad</th>
          <th>Tipo</th>
          <th>Estado</th>
          <th>Activo</th>
          <th class="text-center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr app-item-mascota *ngFor="let mascota of mascotas" [mascota]="mascota"></tr>
      </tbody>
    </table>

    <!--Para que soporte la paginación-->
    <div class="d-flex justify-content-between align-items-center mt-3">
      <button class="btn btn-outline-primary" (click)="cambiarPagina(-1)" [disabled]="page === 1">
        <i class="bi bi-chevron-left"></i> Anterior
      </button>
      <span>Página {{ page }} ({{ mascotas.length }} de {{ total }})</span>
      <button class="btn btn-outline-primary" (click)="cambiarPagina(1)" [disabled]="page * size >= total">
        Siguiente <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </div>

  <ng-template #cargando>
    <div class="text-center my-4">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Cargando...</span>
      </div>
      <p class="mt-2">Cargando pacientes...</p>
    </div>
  </ng-template>
</div>
