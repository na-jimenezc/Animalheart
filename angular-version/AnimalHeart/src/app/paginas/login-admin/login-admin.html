<section class="envoltura">
  <div class="tarjeta-login">
    <div class="encabezado-pagina">
      <div class="nombre-sistema">Animalheart</div>
      <div class="subtitulo-sistema">Portal del Administrador</div>
    </div>

    <div class="encabezado-login">
      <div class="icono-login" aria-hidden="true">üë®‚Äç‚öïÔ∏è</div>
      <h3>Acceso Administrativo</h3>
      <p>Por favor, ingresa tus credenciales</p>
    </div>

    <div *ngIf="mensajeError" class="alert alert-danger alert-dismissible fade show" role="alert" aria-live="polite">
      {{ mensajeError }}
      <button type="button" class="btn-close" (click)="mensajeError=''" aria-label="Cerrar"></button>
    </div>

    <form #formLogin="ngForm" (ngSubmit)="onSubmit(formLogin)" novalidate>
      <!-- CORREO -->
      <div class="campo-formulario">
        <label for="correo" class="etiqueta">Correo</label>
        <input
          id="correo" name="correo" class="control" type="email"
          [(ngModel)]="loginData.correo" #correo="ngModel"
          required email autocomplete="username" inputmode="email" placeholder="admin@animalheart.com"
          [class.is-invalid]="formLogin.submitted && correo.invalid"
          [class.is-valid]="correo.valid && (correo.dirty || correo.touched)"
        />
        <div class="invalid-feedback d-block" *ngIf="correo.errors?.['required']">El correo es obligatorio.</div>
        <div class="invalid-feedback d-block" *ngIf="correo.errors?.['email']">Formato de correo inv√°lido.</div>
      </div>

      <!-- CLAVE -->
      <div class="campo-formulario">
        <label for="clave" class="etiqueta">Contrase√±a</label>
        <div class="grupo-entrada">
            <input
              id="clave" name="clave" class="control"
              [type]="mostrarClave ? 'text' : 'password'"
              [(ngModel)]="loginData.clave" #clave="ngModel"
              required minlength="6" autocomplete="current-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
              [class.is-invalid]="formLogin.submitted && clave.invalid"
              [class.is-valid]="clave.valid && (clave.dirty || clave.touched)"
            />
            <button type="button" class="boton-ver-clave" (click)="togglePassword()" aria-label="Mostrar u ocultar contrase√±a">
              <i class="bi" [class.bi-eye]="!mostrarClave" [class.bi-eye-slash]="mostrarClave"></i>
            </button>
          </div>
          <div class="invalid-feedback d-block" *ngIf="clave.errors?.['required']">La contrase√±a es obligatoria.</div>
          <div class="invalid-feedback d-block" *ngIf="clave.errors?.['minlength']">M√≠nimo 6 caracteres.</div>
      </div>

      <!-- honeypot -->
      <input type="text" name="company" class="d-none" tabindex="-1" autocomplete="off" aria-hidden="true" />

      <div class="acciones-formulario">
        <button class="boton-enviar" type="submit" [disabled]="cargando || formLogin.invalid">
          {{ cargando ? 'Accediendo‚Ä¶' : 'ACCEDER AL SISTEMA' }}
        </button>

        <button class="boton-secundario" type="button" (click)="resetForm(formLogin)" [disabled]="cargando">
          Limpiar
        </button>
      </div>

      <div class="text-center">
        <a routerLink="/contacto" class="enlace-recuperar">¬øNecesitas ayuda para acceder?</a>
      </div>
    </form>
  </div>
</section>
