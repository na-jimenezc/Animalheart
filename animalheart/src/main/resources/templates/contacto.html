<!DOCTYPE html>
<!--
  P√°gina de Contacto ¬∑ Animalheart
  - Usa Bootstrap 5, Bootstrap Icons y fuentes (Open Sans, Poppins).
  - Estilos espec√≠ficos en /CSS/estilos-contacto.css (v√≠a Thymeleaf).
  - Incluye:
    * Barra de navegaci√≥n accesible.
    * Portada (hero) con CTA hacia el formulario.
    * Formulario con validaci√≥n HTML5 + Bootstrap (was-validated).
    * "Honeypot" anti-bots (input oculto "company").
    * Tarjeta lateral con info de contacto + mapa embebido.
-->
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
  <!-- Meta tags y t√≠tulo de la pesta√±a -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contacto ¬∑ Animalheart</title>
  
  <!-- Preconexi√≥n + fuentes (mejora performance de carga) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Bootstrap + Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  
  <!-- Estilos propios (resueltos por Thymeleaf) -->
  <link th:href="@{/CSS/estilos-contacto.css}" rel="stylesheet">
</head>
<body>

  <!-- =================== BARRA DE NAVEGACI√ìN ===================
       - "banner" para sem√°ntica ARIA de encabezado.
       - .menu con "Principal" para lectores de pantalla.
  ---------------------------------------------------------------->
  <header class="barra" role="banner">
    <div class="envoltura">
      <!-- Marca: logo + nombre -->
      <div class="marca">
        <div class="logotipo">
          <img th:src="@{/IMAGES/Logo_2.PNG}" alt="Logo Animalheart">
        </div>
        <span>Animalheart</span>
      </div>

      <!-- Navegaci√≥n principal -->
      <nav class="menu" aria-label="Principal">
        <!-- Enlaces resueltos por Thymeleaf; "Contacto" marcado como actual -->
        <a th:href="@{/}">Inicio</a>
        <a th:href="@{/contacto}" aria-current="page">Contacto</a>
        <a class="pastilla" th:href="@{/login-veterinario}">Veterinario</a>
        <a class="pastilla" th:href="@{/login-admin}">Administrador</a>
      </nav>
    </div>
  </header>

  <!-- =================== PORTADA (HERO) ===================
       - Imagen de fondo + overlay (se define en CSS).
       - CTA que baja al formulario (#form-contacto).
  --------------------------------------------------------->
  <section class="portada portada-contacto">
  <div class="envoltura">
    <div class="circulos-portada">
      <div class="circulo"> Servicioüêæ</div>
      <a th:href="@{/login-cliente}" class="circulo">Ve a tu Mascota</a>
      <div class="circulo">Planes de Medicina</div>
      <div class="circulo">Urgencias</div>
    </div>
  </div>
</section>


  <!-- =================== CONTENIDO PRINCIPAL ===================
       - Dos columnas: formulario (izq.) e informaci√≥n/ubicaci√≥n (der.).
  ---------------------------------------------------------------->
  <main class="contacto container py-5">
    <div class="row g-4">
      
      <!-- ========== COLUMNA IZQUIERDA: FORMULARIO ========== -->
      <div class="col-lg-7">
        <h2>Env√≠anos un mensaje</h2>

        <!--
          Formulario con validaci√≥n HTML5 + Bootstrap:
          - novalidate: desactiva UI nativa del navegador para usar .was-validated
          - th:action -> POST /contacto (m√©todo del ContactoController)
        -->
        <form id="form-contacto" th:action="@{/contacto}" method="post" novalidate>

          <!-- Honeypot anti-spam:
               - Campo oculto a usuarios; si viene con valor, es probablemente un bot. -->
          <input type="text" name="company" class="d-none" tabindex="-1" autocomplete="off">

          <div class="row g-3">
            <!-- Nombre (requerido, m√≠nimo 2 caracteres) -->
            <div class="col-md-6">
              <label for="nombre" class="form-label">Nombre</label>
              <input id="nombre" name="nombre" type="text" class="form-control" required minlength="2" />
              <div class="invalid-feedback">Ingresa tu nombre (m√≠n. 2 caracteres).</div>
            </div>
            
            <!-- Correo (requerido, validaci√≥n type=email) -->
            <div class="col-md-6">
              <label for="email" class="form-label">Correo</label>
              <input id="email" name="email" type="email" class="form-control" required />
              <div class="invalid-feedback">Ingresa un correo v√°lido.</div>
            </div>
            
            <!-- Tel√©fono (opcional, patr√≥n con n√∫meros/espacios/+) -->
            <div class="col-md-6">
              <label for="telefono" class="form-label">Tel√©fono (opcional)</label>
              <input id="telefono" name="telefono" type="tel" class="form-control" pattern="[0-9+\s()-]{7,}" />
              <div class="invalid-feedback">Usa solo n√∫meros y + (m√≠n. 7 d√≠gitos).</div>
            </div>
            
            <!-- Asunto (requerido) -->
            <div class="col-md-6">
              <label for="asunto" class="form-label">Asunto</label>
              <input id="asunto" name="asunto" type="text" class="form-control" required />
              <div class="invalid-feedback">Cu√©ntanos el asunto del mensaje.</div>
            </div>
            
            <!-- Mensaje (requerido, m√≠nimo 10 caracteres) -->
            <div class="col-12">
              <label for="mensaje" class="form-label">Mensaje</label>
              <textarea id="mensaje" name="mensaje" class="form-control" rows="6" required minlength="10"></textarea>
              <div class="invalid-feedback">Escribe al menos 10 caracteres.</div>
            </div>
            
            <!-- Botones: enviar y limpiar -->
            <div class="col-12 d-grid d-sm-inline-flex gap-2">
              <button class="btn btn-primary" type="submit">
                <i class="bi bi-send-fill me-1"></i> Enviar
              </button>
              <button class="btn btn-outline-secondary" type="reset">Limpiar</button>
            </div>
          </div>
        </form>

        <!--
          Alerta de √©xito:
          - Se muestra cuando el controlador agrega "mensajeExito" al modelo.
          - "polite" para anunciar cambios sin interrumpir al usuario.
        -->
        <div th:if="${mensajeExito}" class="alert alert-success mt-3" role="alert" aria-live="polite">
          <i class="bi bi-check-circle-fill me-2"></i>
          <span th:text="${mensajeExito}">¬°Gracias! Recibimos tu mensaje y te contactaremos pronto.</span>
        </div>
      </div>

      <!-- ========== COLUMNA DERECHA: INFO + MAPA ========== -->
      <div class="col-lg-5">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Informaci√≥n de contacto</h5>
            
            <!-- Datos de contacto (simple listado con iconos) -->
            <p><i class="bi bi-geo-alt-fill"></i> Carrera 77#20-40, Bogot√°, Colombia</p>
            <p><i class="bi bi-telephone-fill"></i> +57 320 534 4512</p>
            <p><i class="bi bi-envelope-fill"></i> animalheart@gmail.com</p>
            <p><i class="bi bi-clock-fill"></i> Lunes a Viernes: 8:00 am - 6:00 pm</p>
            <p><i class="bi bi-clock-history"></i> S√°bados: 9:00 am - 2:00 pm</p>
            <p><i class="bi bi-exclamation-triangle-fill"></i> Emergencias: 24/7</p>

            <!-- Mapa (iframe) dentro de contenedor con relaci√≥n 4:3 -->
            <div class="ratio ratio-4x3 rounded overflow-hidden mt-4">
              <iframe
                title="Ubicaci√≥n de Animalheart"
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3976.234569109172!2d-74.07772292401738!3d4.710533641389792!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3f9a3e2e5e5b5b%3A0x1b8c6b9b9b9b9b9b!2sAnimalheart!5e0!3m2!1ses!2sco!4v1620000000000!5m2!1ses!2sco"
                style="border:0" allowfullscreen loading="lazy"></iframe>
            </div>
          </div>
        </div>
      </div>
      <!-- /col derecha -->
    </div>
  </main>

  <!-- =================== PIE DE P√ÅGINA =================== -->
  <footer class="pie text-light pt-5 pb-3">
    <div class="container">
      <div class="text-center border-top border-light pt-3 small text-muted">
        ¬© 2025 Animalheart ¬∑ Todos los derechos reservados
      </div>
    </div>
  </footer>

  <!-- =================== SCRIPTS ===================
       - script.js: marca item activo por hash (#) y utilidades de men√∫.
       - Bundle Bootstrap con Popper para componentes.
       - IIFE final: valida HTML5 y aplica .was-validated si hay campos inv√°lidos.
  --------------------------------------------------->
  <script th:src="@{/JS/script.js}"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Validaci√≥n del formulario con la API de Constraint Validation (HTML5)
    (function(){
      const form = document.getElementById('form-contacto');
      if (form) {
        form.addEventListener('submit', function(e) {
          if (!form.checkValidity()) {
            e.preventDefault();          // Evita el env√≠o si hay inv√°lidos
            e.stopPropagation();         // Detiene burbujeo
            form.classList.add('was-validated'); // Activa estilos de error Bootstrap
          }
        }, false);
      }
    })();
  </script>
</body>
</html>
