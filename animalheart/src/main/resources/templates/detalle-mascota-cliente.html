<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title th:text="${mascota.nombre} + ' | Animalheart'">Detalle | Animalheart</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
  <link th:href="@{/CSS/detalle-mascota-cliente.css}" rel="stylesheet" />
</head>

<body class="cliente-detalle bg-light">
  <!-- ===================== NAV CLIENTE ===================== -->
  <nav class="client-toolbar">
    <div class="client-wrap d-flex justify-content-between align-items-center">
      <a th:href="@{/clientes/dashboard}" class="client-btn"><i class="bi bi-arrow-left"></i> Volver al Dashboard</a>
      <span class="welcome-user">Detalle de Mascota</span>
      <div></div>
    </div>
  </nav>

  <!-- ===================== CONTENIDO ===================== -->
  <main class="client-wrap my-5">
    <div class="row g-4">
      <!-- Columna izquierda -->
      <aside class="col-md-4">
        <div class="card pet-card">
          <div class="pet-photo-wrap">
            <img th:src="${mascota.fotoURL}" th:alt="${mascota.nombre}" class="pet-photo" />
          </div>
          <h2 class="pet-name" th:text="${mascota.nombre}">Firulais</h2>

          <div class="pet-metrics">
            <div class="pet-chip"><strong>Edad:</strong> <span th:text="${mascota.edad} + ' años'"></span></div>
            <div class="pet-chip"><strong>Tipo:</strong> <span th:text="${mascota.tipo}"></span></div>
            <div class="pet-chip"><strong>Raza:</strong> <span th:text="${mascota.raza}"></span></div>
            <div class="pet-chip"><strong>Peso:</strong> <span th:text="${mascota.peso} + ' kg'"></span></div>
          </div>

          <!-- Información del cliente -->
          <div class="pet-owner mt-4">
            <div class="pet-owner-title">
              <span><i class="bi bi-person-vcard"></i> Tu información</span>
            </div>

            <div class="pet-field">
              <div>
                <small>Nombre</small>
                <div th:text="${cliente.nombre}">Carlos Ruiz</div>
              </div>
            </div>
            <div class="pet-field">
              <div>
                <small>Correo</small>
                <div th:text="${cliente.correo}">carlos@gmail.com</div>
              </div>
            </div>
            <div class="pet-field">
              <div>
                <small>Teléfono</small>
                <div th:text="${cliente.celular}">3112345678</div>
              </div>
            </div>
          </div>
        </div>
      </aside>

      <!-- Columna derecha -->
      <section class="col-md-8">
        <div class="card pet-main">
          <h3 class="pet-main-title"><i class="bi bi-heart-pulse"></i> Información médica</h3>

          <!-- Diagnóstico -->
          <div class="pet-section">
            <strong>Diagnóstico:</strong>
            <p th:text="${mascota.enfermedad != null and !mascota.enfermedad.isEmpty() ? mascota.enfermedad : 'Sin enfermedades registradas'}"
               class="mb-0 text-muted"></p>
          </div>

          <!-- Tratamientos -->
          <div class="pet-section">
            <strong>Tratamientos:</strong>
            <div th:if="${mascota.tratamientos != null and !mascota.tratamientos.isEmpty()}">
              <div class="tratamiento-item" th:each="tratamiento : ${mascota.tratamientos}">
                <div>
                  <h6 th:text="${tratamiento.medicamento?.nombre ?: 'Sin medicamento'}"></h6>
                  <small th:text="${#temporals.format(tratamiento.fecha, 'dd/MM/yyyy')}"></small>
                  <p><i class="bi bi-capsule"></i> <span th:text="${tratamiento.cantidadUsada}"></span> unidades</p>
                </div>
              </div>
            </div>
            <div th:unless="${mascota.tratamientos != null and !mascota.tratamientos.isEmpty()}">
              <p class="text-muted mb-0">No hay tratamientos registrados.</p>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <footer class="client-toolbar text-center mt-5">
    <div class="client-wrap">
      <p class="mb-0 text-white"><i class="bi bi-c-circle"></i> 2025 – Animalheart</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
